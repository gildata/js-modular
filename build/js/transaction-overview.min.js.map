{"version":3,"sources":["webpack:///webpack/bootstrap 5e6041264c22998bfcd0","webpack:///./F9-three-board/NewThreeBoardThematicStatistics/transaction-overview.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","NSB_TS_FV","Modules","transactionOverview","url","arguments","length","undefined","debug","result_obj","fetch","then","res","json","_typeof","console","log","new_obj","keys","transactions_number","rising_number","fell_number","trading_volume","turnover_volume","deals_number","map","obj","temp_obj","assign","total","protocol","market","JSON","stringify","key","push","showTable","catch","error","datas","order_arr","trs","document","querySelectorAll","tds","ii","innerHTML","init"],"mappings":"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","file":"transaction-overview.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 8);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5e6041264c22998bfcd0","\"use strict\";\n\n/**\n * @namespace NSB_TS_FV : New San Ban Thematic Statistics\n * @name transaction-overview 成交概况\n * @createed 2017.11.21\n * @author xgqfrms\n * @copyright Gildata, Inc 2017-present\n * @license MIT\n * @version v1.1.1\n *\n * @param {* String} url\n * @param {* Boolean} debug\n */\n\n// namespaces\nvar NSB_TS_FV = NSB_TS_FV || {};\n// sub namespaces\nNSB_TS_FV.Modules = NSB_TS_FV.Modules || {};\n// transactionOverview\nNSB_TS_FV.Modules.transactionOverview = NSB_TS_FV.Modules.transactionOverview || ((url = ``, debug = false) => {\n    let result_obj = {};\n    fetch(url)\n    .then(res => res.json())\n    .then(\n        (json) => {\n            if (json !== undefined && typeof(json) === \"object\") {\n                if (debug) {\n                    console.log(`json = \\n`, json);\n                }\n                let data = json || [];\n                const new_obj = {};\n                // fixed order!\n                const keys = [\"total\", \"protocol\", \"market\"];\n                // let transactions_number, rising_number, fell_number, trading_volume, turnover_volume, deals_number = [],\n                let transactions_number = [],\n                    rising_number = [],\n                    fell_number = [],\n                    trading_volume = [],\n                    turnover_volume = [],\n                    deals_number = [];\n                data.map(\n                    (obj, i) => {\n                        let temp_obj = {};\n                        let key = obj[\"mc\"];\n                        switch (key) {\n                            case \"合计\":\n                                temp_obj = obj;\n                                Object.assign(new_obj, {\"total\": temp_obj});\n                                break;\n                            case \"协议\":\n                                temp_obj = obj;\n                                Object.assign(new_obj, {\"protocol\": temp_obj});\n                                break;\n                            case \"做市\":\n                                temp_obj = obj;\n                                Object.assign(new_obj, {\"market\": temp_obj});\n                                break;\n                            default:\n                                break;\n                        }\n                        if (debug) {\n                            console.log(`new_obj = \\n`, JSON.stringify(new_obj, null, 4));\n                        }\n                    }\n                );\n                if (debug) {\n                    console.log(`new_obj = \\n`, JSON.stringify(new_obj, null, 4));\n                }\n                keys.map(\n                    (key, i) => {\n                        transactions_number.push(new_obj[key][\"cjjs\"]);\n                        rising_number.push(new_obj[key][\"szjs\"]);\n                        fell_number.push(new_obj[key][\"xdjs\"]);\n                        trading_volume.push(new_obj[key][\"cjl\"]);\n                        turnover_volume.push(new_obj[key][\"cje\"]);\n                        deals_number.push(new_obj[key][\"cjbs\"]);\n                    }\n                );\n                result_obj = {\n                    transactions_number,\n                    rising_number,\n                    fell_number,\n                    trading_volume,\n                    turnover_volume,\n                    deals_number\n                };\n                if (debug) {\n                    console.log(`result_obj = \\n`, JSON.stringify(result_obj, null, 4));\n                }\n            }\n            // array\n            NSB_TS_FV.Modules.transactionOverview.showTable(result_obj, false);\n        }\n    )\n    .catch(error => console.log(`error = \\n`, error));\n    // return result_obj;\n});\n\n// transactionOverview.showTable\nNSB_TS_FV.Modules.transactionOverview.showTable = NSB_TS_FV.Modules.transactionOverview.showTable || (\n    (datas = {}, debug = false) => {\n        if (debug) {\n            console.log(`datas = \\n`, JSON.stringify(datas, null, 4));\n        }\n        const {\n            transactions_number,\n            rising_number,\n            fell_number,\n            trading_volume,\n            turnover_volume,\n            deals_number\n        } = datas;\n        // re-order\n        let order_arr = [\n            transactions_number,\n            rising_number,\n            fell_number,\n            trading_volume,\n            turnover_volume,\n            deals_number\n        ];\n        let trs = document.querySelectorAll(`[data-table-tbody-tr=\"ntb-table-tbody-tr-transaction-overview\"]`);\n        if (debug) {\n            console.log(`trs = \\n`, trs);\n            console.log(`trs[0] = \\n`, trs[0]);\n        }\n        for (let i = 0; i < trs.length; i++) {\n            let tds = ``;\n            tds = trs[i].querySelectorAll(`[data-td-value=\"ntb-td-value\"]`);\n            for (let ii = 0; ii < tds.length; ii++) {\n                tds[ii].innerHTML = order_arr[i][ii];\n            }\n        }\n    }\n);\n\n// init\nNSB_TS_FV.Modules.transactionOverview.init = NSB_TS_FV.Modules.transactionOverview.init || (\n    /*\n        // IIFE\n        (() => {\n            const sf_num= `otcfast09`;\n            const url = `http://10.1.5.202/webservice/fastview/otc/${sf_num}/`;\n            let hs_datas = NSB_TS_FV.Modules.transactionOverview(url, false);\n        })()\n    */\n    (url = `http://10.1.5.202/webservice/fastview/otc/otcfast09/`) => {\n        let hs_datas = NSB_TS_FV.Modules.transactionOverview(url, false);\n    }\n);\n\n// call init\nNSB_TS_FV.Modules.transactionOverview.init(`http://10.1.5.202/webservice/fastview/otc/otcfast09/`);\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./F9-three-board/NewThreeBoardThematicStatistics/transaction-overview.js"],"sourceRoot":""}