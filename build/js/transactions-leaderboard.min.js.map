{"version":3,"sources":["webpack:///webpack/bootstrap 5e6041264c22998bfcd0","webpack:///./F9-three-board/NewThreeBoardThematicStatistics/transactions-leaderboard.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","NSB_TS_FV","Modules","transactionsLeaderboard","url","arguments","length","undefined","uids","debug","result_obj","fetch","then","res","json","_typeof","console","log","keys","data_market","data_protocol","dataHandler","arr","ranking_code","ranking_brief","ranking_amplitude","ranking_amount","map","obj","JSON","stringify","push","new_obj","obj_market","obj_protocol","assign","market_uid","protocol_uid","showTable","catch","error","datas","uid","xyz_tbody","document","querySelector","order_arr","trs","querySelectorAll","tds","innerHTML","init"],"mappings":"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","file":"transactions-leaderboard.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 2);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5e6041264c22998bfcd0","\"use strict\";\n\n/**\n * @namespace NSB_TS_FV : New San Ban Thematic Statistics\n * @name transactions-leaderboard 交易排行榜-做市 & 交易排行榜-协议\n * @createed 2017.11.21\n * @author xgqfrms\n * @copyright Gildata, Inc 2017-present\n * @license MIT\n * @version v1.1.1\n *\n * @param {* String} url\n * @param {* Boolean} debug\n */\n\n// namespaces\nvar NSB_TS_FV = NSB_TS_FV || {};\n// sub namespaces\nNSB_TS_FV.Modules = NSB_TS_FV.Modules || {};\n// transactionsLeaderboard\nNSB_TS_FV.Modules.transactionsLeaderboard = NSB_TS_FV.Modules.transactionsLeaderboard || ((url = ``, uids = {}, debug = false) => {\n    let result_obj = {};\n    fetch(url)\n    .then(res => res.json())\n    .then(\n        (json) => {\n            if (json !== undefined && typeof(json) === \"object\") {\n                if (debug) {\n                    console.log(`json = \\n`, json);\n                    console.log(`keys = \\n`, Object.keys(json));\n                }\n                let data_market = json[\"zs\"] || [],\n                    data_protocol = json[\"xy\"] || [];\n                // reusable dataHandler\n                const dataHandler = (arr = []) => {\n                    if (debug) {\n                        console.log(`arr = \\n`, arr);\n                        console.log(`arr keys = \\n`, Object.keys(arr[0]));\n                    }\n                    let ranking_code = [],\n                        ranking_brief = [],\n                        ranking_amplitude = [],\n                        ranking_amount = [];\n                    arr.map(\n                        (obj, i) => {\n                            if (debug && (i === 0)) {\n                                console.log(`obj = \\n`, JSON.stringify(obj, null, 4));\n                            }\n                            // [\"zqdm\", \"zqjc\", \"zdf\", \"cje\"]\n                            ranking_code.push(obj[\"zqdm\"]);\n                            ranking_brief.push(obj[\"zqjc\"]);\n                            ranking_amplitude.push(obj[\"zdf\"]);\n                            ranking_amount.push(obj[\"cje\"]);\n                        }\n                    );\n                    const new_obj = {\n                        ranking_code,\n                        ranking_brief,\n                        ranking_amplitude,\n                        ranking_amount\n                    };\n                    if (debug) {\n                        console.log(`new_obj = \\n`, JSON.stringify(new_obj, null, 4));\n                    }\n                    return new_obj;\n                };\n                let obj_market = dataHandler(data_market) || {},\n                    obj_protocol = dataHandler(data_protocol) || {};\n                if (debug) {\n                    console.log(`obj_market = \\n`, obj_market);\n                    console.log(`obj_protocol = \\n`, obj_protocol);\n                    // console.log(`obj_market = \\n`, JSON.stringify(obj_market, null, 4));\n                    // console.log(`obj_protocol = \\n`, JSON.stringify(obj_protocol, null, 4));\n                }\n                Object.assign(result_obj, {obj_market, obj_protocol});\n                if (debug) {\n                    console.log(`result_obj = \\n`, JSON.stringify(result_obj, null, 4));\n                }\n                /*\n                    const uids = {\n                        \"market_uid\": `[data-table-market=\"ntb-table-body-transactions-leaderboard\"]`,\n                        \"protocol_uid\": `[data-table-protocol=\"ntb-table-body-transactions-leaderboard\"]`\n                    };\n                    let market_tbody = document.querySelector(uids.market_uid);\n                    let protocol_tbody = document.querySelector(uids.protocol_uid);\n                    let xxx_tbody = document.querySelector(uids.xxx_uid);\n                */\n                // ??? this.uids ???\n                let market_uid = uids.market_uid,\n                    protocol_uid = uids.protocol_uid;\n                // result_obj ??? no need\n                NSB_TS_FV.Modules.transactionsLeaderboard.showTable(obj_market, market_uid, false);\n                NSB_TS_FV.Modules.transactionsLeaderboard.showTable(obj_protocol, protocol_uid, false);\n            }\n        }\n    )\n    .catch(error => console.log(`error = \\n`, error));\n    // return result_obj;\n});\n\n// transactionsLeaderboard.showTable\nNSB_TS_FV.Modules.transactionsLeaderboard.showTable = NSB_TS_FV.Modules.transactionsLeaderboard.showTable || (\n    (datas = {}, uid = ``, debug = false) => {\n        if (debug) {\n            console.log(`datas = \\n`, JSON.stringify(datas, null, 4));\n            console.log(`uid = \\n`, uid);\n        }\n        let xyz_tbody = document.querySelector(uid);\n        const {\n            ranking_code,\n            ranking_brief,\n            ranking_amplitude,\n            ranking_amount\n        } = datas;\n        // re-order\n        let order_arr = [\n            ranking_code,\n            ranking_brief,\n            ranking_amplitude,\n            ranking_amount\n        ];\n        let trs = xyz_tbody.querySelectorAll(`[data-table-tbody-tr=\"ntb-table-tbody-tr-transactions-leaderboard\"]`);\n        if (debug) {\n            console.log(`trs = \\n`, trs);\n            console.log(`trs[0] = \\n`, trs[0]);\n        }\n        for (let i = 0; i < trs.length; i++) {\n            let tds = trs[i].querySelectorAll(`[data-td-value=\"ntb-td-value\"]`);\n            if (debug) {\n                console.log(`tds = \\n`, tds);\n                console.log(`tds[0] = \\n`, tds[0]);\n                console.log(`tds[1] = \\n`, tds[1]);\n                console.log(`tds[2] = \\n`, tds[2]);\n                console.log(`tds[3] = \\n`, tds[3]);\n            }\n            tds[0].innerHTML = order_arr[0][i];\n            tds[1].innerHTML = order_arr[1][i];\n            tds[2].innerHTML = order_arr[2][i];\n            tds[3].innerHTML = order_arr[3][i];\n        }\n    }\n);\n\n// init\nNSB_TS_FV.Modules.transactionsLeaderboard.init = NSB_TS_FV.Modules.transactionsLeaderboard.init || (\n    (url = `http://10.1.5.202/webservice/fastview/otc/otcfast03/`) => {\n        // uids\n        const uids = {\n            \"market_uid\": `[data-table-market=\"ntb-table-body-transactions-leaderboard\"]`,\n            \"protocol_uid\": `[data-table-protocol=\"ntb-table-body-transactions-leaderboard\"]`\n        };\n        // let hs_datas = NSB_TS_FV.Modules.transactionsLeaderboard(url, false);\n        let hs_datas = NSB_TS_FV.Modules.transactionsLeaderboard(url, uids, false);\n    }\n);\n\n// call init\nNSB_TS_FV.Modules.transactionsLeaderboard.init(`http://10.1.5.202/webservice/fastview/otc/otcfast03/`);\n\n\n/*\n\n// Utils\nNSB_TS_FV.Modules.transactionsLeaderboard.Utils = NSB_TS_FV.Modules.transactionsLeaderboard.Utils || {};\n// Utils & reusable dataHandler\nNSB_TS_FV.Modules.transactionsLeaderboard.Utils.dataHandler = NSB_TS_FV.Modules.transactionsLeaderboard.Utils.dataHandler || (\n    (arr = []) => {\n        if (debug) {\n            console.log(`arr = \\n`, arr);\n            console.log(`arr keys = \\n`, Object.keys(arr[0]));\n        }\n        let ranking_code = [],\n            ranking_brief = [],\n            ranking_amplitude = [],\n            ranking_amount = [];\n        arr.map(\n            (obj, i) => {\n                if (debug && (i === 0)) {\n                    console.log(`obj = \\n`, JSON.stringify(obj, null, 4));\n                }\n                // [\"zqdm\", \"zqjc\", \"zdf\", \"cje\"]\n                ranking_code.push(obj[\"zqdm\"]);\n                ranking_brief.push(obj[\"zqjc\"]);\n                ranking_amplitude.push(obj[\"zdf\"]);\n                ranking_amount.push(obj[\"cje\"]);\n            }\n        );\n        const new_obj = {\n            ranking_code,\n            ranking_brief,\n            ranking_amplitude,\n            ranking_amount\n        };\n        if (debug) {\n            console.log(`new_obj = \\n`, JSON.stringify(new_obj, null, 4));\n        }\n        return new_obj;\n    }\n);\n\n\n*/\n\n\n\n// WEBPACK FOOTER //\n// ./F9-three-board/NewThreeBoardThematicStatistics/transactions-leaderboard.js"],"sourceRoot":""}