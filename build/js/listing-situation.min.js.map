{"version":3,"sources":["webpack:///webpack/bootstrap 5e6041264c22998bfcd0","webpack:///./F9-three-board/NewThreeBoardThematicStatistics/listing-situation.js"],"names":["__webpack_require__","moduleId","installedModules","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","NSB_TS_FV","Modules","listingSituation","url","arguments","length","undefined","debug","uid","result_obj","fetch","then","res","json","_typeof","console","log","new_obj","keys","listed_number","new_add_listed_number","waiting_number","reporting_number","map","obj","temp_obj","assign","total","protocol","market","JSON","stringify","key","push","showTable","catch","error","datas","order_arr","trs","document","querySelectorAll","tds","ii","innerHTML","setTimeout"],"mappings":"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","file":"listing-situation.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 7);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 5e6041264c22998bfcd0","\"use strict\";\n\n/**\n * @namespace NSB_TS_FV : New San Ban Thematic Statistics\n * @name listing-situation 挂牌情况\n * @createed 2017.11.21\n * @author xgqfrms\n * @copyright Gildata, Inc 2017-present\n * @license MIT\n * @version v1.1.1\n *\n * @param {* String} url\n * @param {* DOM Element} uid\n * @param {* Boolean} debug\n */\n\n// namespaces\nvar NSB_TS_FV = NSB_TS_FV || {};\n// sub namespaces\nNSB_TS_FV.Modules = NSB_TS_FV.Modules || {};\n\n\n/*\n\nNSB_TS_FV.Modules.listingSituation = NSB_TS_FV.Modules.listingSituation || (() => console.log(`module testing!`));\n// () => console.log(`module testing!`)\n\n\n*/\n\n\nNSB_TS_FV.Modules.listingSituation = NSB_TS_FV.Modules.listingSituation || ((url = ``, debug = false, uid = `default_dom_uid`) => {\n    let result_obj = {};\n    fetch(url)\n    .then(res => res.json())\n    .then(\n        (json) => {\n            if (json !== undefined && typeof(json) === \"object\") {\n                if (debug) {\n                    console.log(`json = \\n`, json);\n                }\n                let data = json || [];\n                const new_obj = {};\n                // fixed order!\n                const keys = [\"total\", \"protocol\", \"market\"];\n                let listed_number = [],\n                    new_add_listed_number = [],\n                    waiting_number = [],\n                    reporting_number = [];\n                data.map(\n                    (obj, i) => {\n                        let temp_obj = {};\n                        let key = obj[\"bz\"];\n                        switch (key) {\n                            case \"合计\":\n                                temp_obj = obj;\n                                Object.assign(new_obj, {\"total\": temp_obj});\n                                break;\n                            case \"协议\":\n                                temp_obj = obj;\n                                Object.assign(new_obj, {\"protocol\": temp_obj});\n                                break;\n                            case \"做市\":\n                                temp_obj = obj;\n                                Object.assign(new_obj, {\"market\": temp_obj});\n                                break;\n                            default:\n                                break;\n                        }\n                        if (debug) {\n                            console.log(`new_obj = \\n`, JSON.stringify(new_obj, null, 4));\n                        }\n                    }\n                );\n                if (debug) {\n                    console.log(`new_obj = \\n`, JSON.stringify(new_obj, null, 4));\n                }\n                keys.map(\n                    (key, i) => {\n                        listed_number.push(new_obj[key][\"gpjs\"]);\n                        // listed_number.push(new_obj[\"total\"][\"gpjs\"]);\n                        new_add_listed_number.push(new_obj[key][\"xzjs\"]);\n                        waiting_number.push(new_obj[key][\"dgpjs\"]);\n                        reporting_number.push(new_obj[key][\"sbjs\"]);\n                    }\n                );\n                result_obj = {\n                    listed_number,\n                    new_add_listed_number,\n                    waiting_number,\n                    reporting_number\n                };\n            }\n            // array\n            NSB_TS_FV.Modules.listingSituation.showTable(result_obj, uid, false);\n        }\n    )\n    .catch(error => console.log(`error = \\n`, error));\n    // return result_obj;\n});\n\n\nNSB_TS_FV.Modules.listingSituation.showTable = NSB_TS_FV.Modules.listingSituation.showTable || (\n    (datas = {}, uid = ``, debug = false) => {\n        console.log(`datas = \\n`, JSON.stringify(datas, null, 4));\n        const {\n            listed_number,\n            new_add_listed_number,\n            waiting_number,\n            reporting_number\n        } = datas;\n        let order_arr = [listed_number, new_add_listed_number, waiting_number, reporting_number];\n        let trs = document.querySelectorAll(`[data-table-tbody-tr=\"ntb-table-tbody-tr-listing-situation\"]`);\n        /*\n            // data-table-tr & data-table-tbody-tr ??? can not duplication ??? data-*-name\n            let trs = document.querySelectorAll(`[data-table-tr=\"ntb-table-tbody-tr-listing-situation\"]`);\n            // []\n            let trs = document.querySelectorAll(`[data-table-tbody-tr=\"ntb-table-tbody-tr-listing-situation\"]`);\n            // (3) [tr, tr, tr]\n        */\n        for (let i = 0; i < trs.length; i++) {\n            // const tr1_tds = trs[i].children;\n            let tds = ``;\n            tds = trs[i].querySelectorAll(`[data-td-value=\"ntb-td-value\"]`);\n            for (let ii = 0; ii < tds.length; ii++) {\n                tds[ii].innerHTML = order_arr[i][ii];\n            }\n        }\n    }\n);\n\n\n\n// call fetch json datas\nsetTimeout(() => {\n    // async & await\n    const sf_num= `otcfast08`;\n    const url = `http://10.1.5.202/webservice/fastview/otc/${sf_num}/`;\n    let uid = `newly_added_listing_hs_container`;\n    let hs_datas = NSB_TS_FV.Modules.listingSituation(url, false, uid);\n}, 0);\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/*\n\nconst data = [\n    {\n        \"gpjs\": 11713,\n        \"xzjs\": 3,\n        \"dgpjs\": 85,\n        \"sbjs\": 476,\n        \"bz\": \"合计\"\n    },\n    {\n        \"gpjs\": 10268,\n        \"xzjs\": 3,\n        \"dgpjs\": 0,\n        \"sbjs\": 0,\n        \"bz\": \"协议\"\n    },\n    {\n        \"gpjs\": 1383,\n        \"xzjs\": 0,\n        \"dgpjs\": 0,\n        \"sbjs\": 0,\n        \"bz\": \"做市\"\n    }\n];\n\n\nconst new_obj = {\n   \"total\": {\n       \"gpjs\": 11713,\n       \"xzjs\": 3,\n       \"dgpjs\": 85,\n       \"sbjs\": 476,\n       \"bz\": \"合计\"\n   },\n   \"protocol\": {\n       \"gpjs\": 10268,\n       \"xzjs\": 3,\n       \"dgpjs\": 0,\n       \"sbjs\": 0,\n       \"bz\": \"协议\"\n   },\n   \"market\": {\n       \"gpjs\": 1383,\n       \"xzjs\": 0,\n       \"dgpjs\": 0,\n       \"sbjs\": 0,\n       \"bz\": \"做市\"\n   }\n};\n\n\n\n\nlet keys = Object.keys(new_obj),\n    values = Object.values(new_obj);\nlet listed_number = [],\n    new_add_listed_number = [],\n    waiting_number = [],\n    reporting_number = [];\nfor (let i = 0; i < keys.length; i++) {\n    listed_number.push(new_obj[keys[i]][\"gpjs\"]);\n    // listed_number.push(new_obj[\"total\"][\"gpjs\"]);\n    // listed_number.push(new_obj[\"protocol\"][\"gpjs\"]);\n    // listed_number.push(new_obj[\"market\"][\"gpjs\"]);\n    new_add_listed_number.push(new_obj[keys[i]][\"xzjs\"]);\n    waiting_number.push(new_obj[keys[i]][\"dgpjs\"]);\n    reporting_number.push(new_obj[keys[i]][\"sbjs\"]);\n}\n// sort ??? key order ???\n\n\n*/\n\n\n\n\n// WEBPACK FOOTER //\n// ./F9-three-board/NewThreeBoardThematicStatistics/listing-situation.js"],"sourceRoot":""}